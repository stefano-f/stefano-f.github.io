<!DOCTYPE html><html lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Stateful select box in one line with Laravel and Twig &middot; Stefano</title><link rel="stylesheet" href="/css/app.css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-precomposed.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"></head><body><input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><div class="sidebar" id="sidebar"><div class="sidebar-item"><p></p></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="">Home</a> <a class="sidebar-nav-item" href="/blog/">Posts Archive</a> <a class="sidebar-nav-item" href="/blog/tags/">Tags</a> <a class="sidebar-nav-item" href="/about/">About</a></nav><div class="sidebar-item"><p>&copy; 2015. All rights reserved.</p></div></div><div class="wrap"><div class="masthead"><div class="container"><h3 class="masthead-title"><a href="/" title="Home">Stefano</a> <small>php, milano</small></h3></div></div><div class="container content"><div class="post"><h1 class="post-title">Stateful select box in one line with Laravel and Twig</h1><span class="post-date">July 26th, 2014</span><p>Here is a (long) one-liner to output a stateful select box with Laravel and the <a href="https://github.com/rcrowe/TwigBridge">Twig Bridge Bundle</a>:</p><pre><code class="twig">{{ Form_select('user', {'':'Select user'} | merge(user.lists('id', 'name')),Request_get('user'), {class:'form-control'})|raw }}
</code></pre><p>In the code sample, <code>user</code> is an Eloquent model, <code>Request_get</code> binds automatically to the <code>Request::get()</code> method of Laravel's Request facade as well as <code>Form_select</code> binds to <code>Form::select()</code>, the last array pushes a <code>form-control</code> class to the <code>select</code> tag for enhanced bootstrap styling.</p><p>Notice we are merging arrays to ensure the select box presents an empty option to beg the user to choose one:</p><pre><code class="twig">{'':'-- Industry --'} | merge(user.lists('id', 'name'))
</code></pre><p>When the user submits the form to another page containing the same code snippet, our selectbox will appear with the right value already selected.</p><p>While this one-liner is long, somewhat redundant and a bit complicated it's good for quick copy-pastes and works with plain Laravel + Twig bridge. A Blade version would of course be very similar.</p><p class="tags">Tags: <a href="/blog/tags/laravel/">laravel</a></p></div><div class="pagination"><a class="pagination-item newer" href="/blog/2014/08/04/import-many-csv-files-in-mongo/" title="Import Many Csv Files In Mongo">Import Many Csv Files In Mongo</a> <span class="pagination-item older">Older</span></div></div></div><label for="sidebar-checkbox" class="sidebar-toggle"></label><script>(function (document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function (e) {
            var target = e.target;

            if (!checkbox.checked ||
                    sidebar.contains(target) ||
                    (target === checkbox || target === toggle)) return;

            checkbox.checked = false;
        }, false);
    })(document);</script><script src="/js/app.js" data-no-instant></script></body></html>